<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.7"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CSCE412-prj2: main.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">CSCE412-prj2
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">main.cpp File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="_load_balancer_8h_source.html">LoadBalancer.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_webserver_8h_source.html">Webserver.h</a>&quot;</code><br />
<code>#include &lt;fstream&gt;</code><br />
<code>#include &lt;iostream&gt;</code><br />
<code>#include &lt;time.h&gt;</code><br />
<code>#include &lt;vector&gt;</code><br />
</div>
<p><a href="main_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a8f602affcdcd3194b81baaa70f8d28e8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a8f602affcdcd3194b81baaa70f8d28e8">myNewLogFile</a> (std::ofstream &amp;ofs, int numServers, int runTime, const std::string &amp;ipRange)</td></tr>
<tr class="memdesc:a8f602affcdcd3194b81baaa70f8d28e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new log file and writes information about the load balancer setup.  <br /></td></tr>
<tr class="separator:a8f602affcdcd3194b81baaa70f8d28e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1252837c4a2b84c832da159d11ace581"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a1252837c4a2b84c832da159d11ace581">newWebserver</a> (std::vector&lt; <a class="el" href="class_web_server.html">WebServer</a> * &gt; &amp;webservers, int numServers, const std::string &amp;ipRange)</td></tr>
<tr class="memdesc:a1252837c4a2b84c832da159d11ace581"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates new web server objects and adds them to a vector.  <br /></td></tr>
<tr class="separator:a1252837c4a2b84c832da159d11ace581"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8be0f372cf4c645022907a12da9c8073"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a8be0f372cf4c645022907a12da9c8073">newStartRequest</a> (<a class="el" href="class_load_balancer.html">LoadBalancer</a> *loadBalancer, int numServers)</td></tr>
<tr class="memdesc:a8be0f372cf4c645022907a12da9c8073"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generates and pushes new requests to the load balancer.  <br /></td></tr>
<tr class="separator:a8be0f372cf4c645022907a12da9c8073"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e02d35b1ddd9fcb992e6385237ff44c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a5e02d35b1ddd9fcb992e6385237ff44c">processRequests</a> (<a class="el" href="class_load_balancer.html">LoadBalancer</a> *loadBalancer, std::vector&lt; <a class="el" href="class_web_server.html">WebServer</a> * &gt; &amp;webservers, std::ofstream &amp;ofs, int runTime)</td></tr>
<tr class="memdesc:a5e02d35b1ddd9fcb992e6385237ff44c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Processes requests in the load balancer.  <br /></td></tr>
<tr class="separator:a5e02d35b1ddd9fcb992e6385237ff44c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae66f6b31b5ad750f1fe042a706a4e3d4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4">main</a> ()</td></tr>
<tr class="memdesc:ae66f6b31b5ad750f1fe042a706a4e3d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">The entry point of the program.  <br /></td></tr>
<tr class="separator:ae66f6b31b5ad750f1fe042a706a4e3d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="ae66f6b31b5ad750f1fe042a706a4e3d4" name="ae66f6b31b5ad750f1fe042a706a4e3d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae66f6b31b5ad750f1fe042a706a4e3d4">&#9670;&#160;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The entry point of the program. </p>
<p>This function is the entry point of the program. It initializes the random number generator, prompts the user to enter the number of computing nodes, the runtime of the load balancer, and the IP range to block for all servers. It creates a new log file using the provided information and initializes a vector to hold the web server objects. It creates the web server objects and assigns the blocked IP range to each server. It also creates a new load balancer object and generates initial requests. It processes the requests and writes the completion information to the log file. Finally, it performs cleanup by deleting the load balancer object, web server objects, and closing the log file.</p>
<dl class="section return"><dt>Returns</dt><dd>An integer indicating the exit status of the program. </dd></dl>

<p class="definition">Definition at line <a class="el" href="main_8cpp_source.html#l00139">139</a> of file <a class="el" href="main_8cpp_source.html">main.cpp</a>.</p>

</div>
</div>
<a id="a8f602affcdcd3194b81baaa70f8d28e8" name="a8f602affcdcd3194b81baaa70f8d28e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f602affcdcd3194b81baaa70f8d28e8">&#9670;&#160;</a></span>myNewLogFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void myNewLogFile </td>
          <td>(</td>
          <td class="paramtype">std::ofstream &amp;&#160;</td>
          <td class="paramname"><em>ofs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>numServers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>runTime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>ipRange</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a new log file and writes information about the load balancer setup. </p>
<p>This function creates a new log file named "LoadBalancerLog.txt" and writes information about the load balancer setup to the file. The information includes the number of computing nodes, the runtime, and the blocked IP range.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ofs</td><td>The output file stream object to write the log information. </td></tr>
    <tr><td class="paramname">numServers</td><td>The number of computing nodes in the load balancer. </td></tr>
    <tr><td class="paramname">runTime</td><td>The runtime of the load balancer in clock cycles. </td></tr>
    <tr><td class="paramname">ipRange</td><td>The blocked IP range for the load balancer. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="main_8cpp_source.html#l00019">19</a> of file <a class="el" href="main_8cpp_source.html">main.cpp</a>.</p>

</div>
</div>
<a id="a8be0f372cf4c645022907a12da9c8073" name="a8be0f372cf4c645022907a12da9c8073"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8be0f372cf4c645022907a12da9c8073">&#9670;&#160;</a></span>newStartRequest()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void newStartRequest </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_load_balancer.html">LoadBalancer</a> *&#160;</td>
          <td class="paramname"><em>loadBalancer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>numServers</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generates and pushes new requests to the load balancer. </p>
<p>This function generates a specified number of new request objects and pushes them to the load balancer. Each request object has a randomly assigned processing time between 0 and 999 (inclusive).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">loadBalancer</td><td>A pointer to the load balancer object. </td></tr>
    <tr><td class="paramname">numServers</td><td>The number of servers managed by the load balancer. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="main_8cpp_source.html#l00055">55</a> of file <a class="el" href="main_8cpp_source.html">main.cpp</a>.</p>

</div>
</div>
<a id="a1252837c4a2b84c832da159d11ace581" name="a1252837c4a2b84c832da159d11ace581"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1252837c4a2b84c832da159d11ace581">&#9670;&#160;</a></span>newWebserver()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void newWebserver </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="class_web_server.html">WebServer</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>webservers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>numServers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>ipRange</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates new web server objects and adds them to a vector. </p>
<p>This function creates a specified number of web server objects and adds them to the provided vector. Each web server object is assigned a unique identifier starting from 1. The IP range specified is blocked for each web server.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">webservers</td><td>A vector to store the created web server objects. </td></tr>
    <tr><td class="paramname">numServers</td><td>The number of web server objects to create. </td></tr>
    <tr><td class="paramname">ipRange</td><td>The IP range to block for each web server. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="main_8cpp_source.html#l00038">38</a> of file <a class="el" href="main_8cpp_source.html">main.cpp</a>.</p>

</div>
</div>
<a id="a5e02d35b1ddd9fcb992e6385237ff44c" name="a5e02d35b1ddd9fcb992e6385237ff44c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e02d35b1ddd9fcb992e6385237ff44c">&#9670;&#160;</a></span>processRequests()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void processRequests </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_load_balancer.html">LoadBalancer</a> *&#160;</td>
          <td class="paramname"><em>loadBalancer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="class_web_server.html">WebServer</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>webservers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::ofstream &amp;&#160;</td>
          <td class="paramname"><em>ofs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>runTime</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Processes requests in the load balancer. </p>
<p>This function processes requests in the load balancer until the specified runtime is reached. It iterates through each web server in the provided vector and checks if a request is completed. If a request is completed, it updates the range of processing times and writes the completion information to the output file stream and standard output. After processing each web server, it generates a new request and pushes it to the load balancer. If the queue size exceeds 15, an additional request is added to the queue. The function also updates the time in the load balancer after each iteration.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">loadBalancer</td><td>A pointer to the load balancer object. </td></tr>
    <tr><td class="paramname">webservers</td><td>A vector containing web server objects. </td></tr>
    <tr><td class="paramname">ofs</td><td>The output file stream object to write the completion information. </td></tr>
    <tr><td class="paramname">runTime</td><td>The runtime of the load balancer. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="main_8cpp_source.html#l00078">78</a> of file <a class="el" href="main_8cpp_source.html">main.cpp</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.7
</small></address>
</body>
</html>
